syntax ="proto3";

package psh;

import "google/protobuf/empty.proto";

service PshService {
  rpc Heartbeat(google.protobuf.Empty) returns (PshResponse);
  rpc SendHostInfo(HostInfoRequest) returns (HostInfoResponse);
}

message PshResponse {
  string resp = 1;
}

message HostInfoRequest {
  string token = 1;
  optional bytes ipv4 = 2;
  optional bytes ipv6 = 3;
  string os = 4;
  string architecture = 5;
  string hostname = 6;
}

message HostInfoResponse {
  int64 errno = 1;
  optional string message = 2;
}
